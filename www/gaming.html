<!DOCTYPE html>
<html>

<head>
  <!--Import Google Icon Font-->
  <link rel="icon" href="../img/poolIcon.png">

  <title>Gaming | collegium</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
  <!--Import materialize.css-->
  <link type="text/css" rel="stylesheet" href="../css/materialize.min.css" media="screen,projection" />
  <link type="text/css" rel="stylesheet" href="../css/home.css" media="screen,projection" />
  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script type="text/javascript" src="../js/jquery-3.3.1.min.js"></script>
  <script type="text/javascript" src="../js/init.js"></script>
  <script type="text/javascript" src="../js/player.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
  <script src="https://www.gstatic.com/firebasejs/5.7.3/firebase.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.5.5/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.5.5/firebase-firestore.js"></script>
  <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyC6GRrWQ0v-xzvfHg32xgTP9fxSZB9Skb8",
      authDomain: "collegium-a3676.firebaseapp.com",
      databaseURL: "https://collegium-a3676.firebaseio.com",
      projectId: "collegium-a3676",
      storageBucket: "collegium-a3676.appspot.com",
      messagingSenderId: "852316993941"
    };
    firebase.initializeApp(config);
    const settings = {
      timestampsInSnapshots: true
    };
    firebase.firestore().settings(settings);
    var db = firebase.firestore();
  </script>

  <style>
    .carousel {
      height: 600px;
    }

    .container123 {
      position: relative;
      z-index: -1;

    }

    .container123 video {
      position: relative;
      z-index: -1;

      height: 100%;
    }

    .overlay {
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 425px;
      /* background: linear-gradient(135deg, #051937, #051937, #051937, transparent, transparent, transparent, transparent, transparent, transparent, transparent); */
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>

</head>

<ul id="slide-out" class="sidenav sidenav-fixed center"><br>
  <li><a href="../index.html" class="tooltipped" data-position="right" data-tooltip="Go Home"><i class="material-icons small">home</i></a></li>
  <li><a href="gaming.html" class="tooltipped" data-position="right" data-tooltip="Gaming"><i class="material-icons small">videogame_asset</i></a></li>
  <li><a href="splash.html" class="tooltipped" data-color="color" data-position="right" data-tooltip="Music"><i class="material-icons small">music_note</i></a></li>
  <li><a href="splash.html" class="tooltipped" data-position="right" data-tooltip="Entertainment"><i class="material-icons small">play_circle_outline</i></a></li>
  <li><a href="splash.html" class="tooltipped" data-position="right" data-tooltip="Organizations"><i class="material-icons small">group</i></a></li>
  <li><a href="settings.html" class="tooltipped" data-position="right" data-tooltip="Settings"><i class="material-icons small">settings</i></a></li>

</ul>
<div class="navbar-fixed">
  <nav>
    <div class="nav-wrapper black-text" style="background-color: #29243D;">
      <a href="#" class="brand-logo left" style="padding-left: 10%;"><span class="white-text text-lighten-2"><b>collegium</b></span><span class="blue-text heavy">.me</span></a>
      <a href="#" class="brand-logo center" style="padding-right: 1%;"><span class="white-text text-lighten-2"><b>Gaming</b></span></a>
      <a href="#" data-target="slide-out" class="sidenav-trigger"><i class="material-icons white-text">menu</i></a>
    </div>
  </nav>
</div>

<body onload="loadAllStreamers()">
  <div class="carousel carousel-slider left">
    <div class="carousel-item  white-text" href="#one!">
      <div class="container123">
        <video style="width: 100%; height: 100%" autoplay loop muted id="background">
        <source src="../img/marco.mp4">
        </video>
        <div class="overlay">
          <div class="z-depth-5" style="padding: 40px; padding-right: 50px; background-color: #051937;">
            <h5 style="margin-left: 30%;" class="white-text">Featured Streamer</h5>
            <h3 style="margin-left: 30%; font-weight: 900;" class="white-text">madeinmex</h3>
            <hr color="white" />
            <h6 style="margin-left: 30%;" class="white-text">Live Stream from 7pm to 1am</h6>
          </div>

        </div>
      </div>
    </div>
  </div>

  <section class="black">
    <br>
    <div class="row transparent">
      <div class="col m6 s12" style="margin-top: 2%; z-index: 1;">
        <h3 class="white-text container " style="font-weight: 900;">Popular Games</h3><br>
        <h6 class="container white-text" style="line-height: 25px;">Here are the games popping on the platform now. If you scroll down, youll find a list of all the streamers. Happy viewing :)</h6>
      </div>
      <div class="col m6 s12" style="margin-top: 2%;">

      </div>
    </div>
    <br>
    <div class="row container">
      <div class="col s3">
        <div class="card white black-text z-depth-5">
          <a onclick="loadOverwatch();">
            <div class="card-image">
              <img style="height: 350px; border-radius: 10px; object-fit: cover;" src="https://blznav.akamaized.net/img/games/cards/card-overwatch-7eff92e1257149aa.jpg">
              <span class="card-title"></span>
            </div>
        </div>
        </a>
      </div>
      <div class="col s3">
        <div class="card white black-text z-depth-5">
          <a onclick="loadLeague();">
            <div class="card-image">
              <img style="height: 350px; border-radius: 10px; object-fit: cover;" src="https://static-cdn.jtvnw.net/ttv-boxart/League%20of%20Legends.jpg">
              <span class="card-title"></span>
            </div>
          </a>
        </div>
      </div>
      <div class="col s3">
        <div class="card white black-text z-depth-5">
          <a onclick="loadFortnite();">
            <div class="card-image">
              <img style="height: 350px; border-radius: 10px;   object-fit: cover;" src="https://static-cdn.jtvnw.net/ttv-boxart/Fortnite.jpg">
              <span class="card-title"></span>
            </div>
          </a>
        </div>
      </div>
      <div class="col s3">
        <div class="card white black-text z-depth-5">
          <a onclick="loadCSGO();">
            <div class="card-image">
              <img style="height: 350px; border-radius: 10px; object-fit: cover;" src="https://fiverr-res.cloudinary.com/images/t_main1,q_auto,f_auto/gigs/116397383/original/d77f5fa79378d8b4b43d2f17fa0422128e79b95d/a-coach-will-teach-you-how-to-play-counter-strike-global-offensive.jpg">
              <span class="card-title"></span>
            </div>
          </a>
        </div>
      </div>
    </div>
    <br>
  </section>
  <section class="white">
    <br>
    <h3 class="black-text right-align container " style="font-weight: 900;">All Streamers</h3><br>

    <div class="row container" style="margin-left: 15%;">
      <div id="allplayers"></div>
      <div id="overwatch"></div>
      <div id="league"></div>
      <div id="fortnite"></div>
      <div id="csgo"></div>
    </div>
  </section>


  <!-- Modal Structure -->
  <script>
    function loadAllStreamers() {
      db.collection("gamers").get().then(function(querySnapshot) {
        querySnapshot.forEach(function(doc) {
          // doc.data() is never undefined for query doc snapshots
          console.log(doc.id, " => ", doc.data());
          var streamerAll = '<div class="col s12 m3"><a data-playerName="' + doc.data().twitch +
            '" onclick="openPlayerPage(this)"><div class="card white black-text z-depth-4"><div class="card-image"><img style="height: 250px;   object-fit: cover;" src="' + doc.data().gameImage +
            '"></div><div class="card-content"><h6 class="center-align" style="font-weight: 900;">' + doc.data().twitch + '</h6><br><p class="center-align">' + doc.data().miniBio + '</p></div></div></a></div>';
          $('#allplayers').append(streamerAll);
        });
      });
    }

    function loadOverwatch() {
      $('#allplayers').hide();
      $('#league').hide();
      $('#fortnite').hide();
      $('#csgo').hide();
      $('#overwatch').show();
      console.log("Overwatch clicked!");
      db.collection("gamers").where("game1", "==", "Overwatch").get().then(function(querySnapshot) {
        querySnapshot.forEach(function(doc) {
          // doc.data() is never undefined for query doc snapshots
          console.log("Overwatch", " => ", doc.data());
          var overwatch = '<div class="col s12 m3"><a data-playerName="' + doc.data().twitch +
            '" onclick="openPlayerPage(this)"><div class="card white black-text z-depth-4"><div class="card-image"><img style="height: 250px;   object-fit: cover;" src="' + doc.data().gameImage +
            '"></div><div class="card-content"><h6 class="center-align" style="font-weight: 900;">' + doc.data().twitch + '</h6><br><p class="center-align">' + doc.data().miniBio + '</p></div></div></a></div>';
          $('#overwatch').append(overwatch);
        });
      });
    }

    function loadLeague() {
      $('#allplayers').hide();
      $('#league').hide();
      $('#overwatch').hide();
      $('#fortnite').hide();
      $('#league').show();
      console.log("League clicked!");
      db.collection("gamers").where("game1", "==", "League of Legends").get().then(function(querySnapshot) {
        querySnapshot.forEach(function(doc) {
          // doc.data() is never undefined for query doc snapshots
          var league = '<div class="col s12 m3"><a data-playerName="' + doc.data().twitch +
            '" onclick="openPlayerPage(this)"><div class="card white black-text z-depth-4"><div class="card-image"><img style="height: 250px;   object-fit: cover;" src="' + doc.data().gameImage +
            '"></div><div class="card-content"><h6 class="center-align" style="font-weight: 900;">' + doc.data().twitch + '</h6><br><p class="center-align">' + doc.data().miniBio + '</p></div></div></a></div>';
          $('#league').append(league);
        });
      });
    }

    function loadFortnite() {
      $('#allplayers').hide();
      $('#league').hide();
      $('#overwatch').hide();
      $('#csgo').hide();
      $('#fortnite').show();
      console.log("Fortnite clicked!");
      db.collection("gamers").where("game1", "==", "Fortnite").get().then(function(querySnapshot) {
        querySnapshot.forEach(function(doc) {
          // doc.data() is never undefined for query doc snapshots
          var fortnite = '<div class="col s12 m3"><a data-playerName="' + doc.data().twitch +
            '" onclick="openPlayerPage(this)"><div class="card white black-text z-depth-4"><div class="card-image"><img style="height: 250px;   object-fit: cover;" src="' + doc.data().gameImage +
            '"></div><div class="card-content"><h6 class="center-align" style="font-weight: 900;">' + doc.data().twitch + '</h6><br><p class="center-align">' + doc.data().miniBio + '</p></div></div></a></div>';
          $('#fortnite').append(fortnite);
        });
      });
    }

    function loadCSGO() {
      $('#allplayers').hide();
      $('#league').hide();
      $('#overwatch').hide();
      $('#fortnite').hide();
      $('#csgo').show();
      console.log("CSGO clicked!");
      db.collection("gamers").where("game1", "==", "Counter-Strike: Global Offensive").get().then(function(querySnapshot) {
        querySnapshot.forEach(function(doc) {
          // doc.data() is never undefined for query doc snapshots
          var csgo = '<div class="col s12 m3"><a data-playerName="' + doc.data().twitch +
            '" onclick="openPlayerPage(this)"><div class="card white black-text z-depth-4"><div class="card-image"><img style="height: 250px;   object-fit: cover;" src="' + doc.data().gameImage +
            '"></div><div class="card-content"><h6 class="center-align" style="font-weight: 900;">' + doc.data().twitch + '</h6><br><p class="center-align">' + doc.data().miniBio + '</p></div></div></a></div>';
          $('#csgo').append(csgo);
        });
      });
    }
  </script>

  <script type="text/javascript" src="../js/materialize.min.js"></script>

</body>

</html>
