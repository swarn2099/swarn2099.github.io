<!DOCTYPE html>
<html>

<head>
  <title>Add | Pool</title>
  <link rel="icon" href="../img/poolIcon.png">

  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!--Import materialize.css-->
  <link type="text/css" rel="stylesheet" href="../css/materialize.min.css" media="screen,projection" />
  <link type="text/css" rel="stylesheet" href="../css/style.css" media="screen,projection" />
  <link rel="stylesheet" href="../css/demo.css">
  <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css">
  <script src="../js/medium-editor.js"></script>
  <link rel="stylesheet" href="../css/medium-editor.css">
  <link rel="stylesheet" href="../css/default.css">
  <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
  <script src="https://www.gstatic.com/firebasejs/4.13.0/firebase.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.13.0/firebase-firestore.js"></script>
  <script>
    // Initialize Firebase
    firebase.initializeApp({
      apiKey: "AIzaSyCvM4gKXyUW58BrDOnqU3bJBGnCNiexCzI",
      authDomain: "marco-polo-c90db.firebaseapp.com",
      projectId: "marco-polo-c90db",
    });
    const firestore = firebase.firestore();
    const settings = { /* your settings... */
      timestampsInSnapshots: true
    };
    firestore.settings(settings);
    // Initialize Cloud Firestore through Firebase
    var db = firebase.firestore();
  </script>

  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script type="text/javascript" src="../js/jquery-3.3.1.min.js"></script>
  <script type="text/javascript" src="../js/init.js"></script>
  <script src="../js/markdown.js"></script>
  <script src="../js/locationpicker.js"></script>
</head>
<ul id="slide-out" class="sidenav sidenav-fixed center"><br>
  <li><a href="home.html" class="tooltipped" data-position="right" data-tooltip="Go Home"><i class="material-icons small">home</i></a></li>
  <li><a href="add.html" class="tooltipped" data-position="right" data-tooltip="Add an Event"><i class="material-icons small">add</i></a></li>
  <li><a href="story.html" class="tooltipped" data-color="color" data-position="right" data-tooltip="Write a Story"><i class="material-icons small">book</i></a></li>
  <li><a href="manage.html" class="tooltipped" data-position="right" data-tooltip="Manage your Events"><i class="material-icons small">edit</i></a></li>
  <li><a href="#" class="tooltipped" data-position="right" data-tooltip="Contact Traveler"><i class="material-icons small">contact_mail</i></a></li>
  <li><a href="#!" onclick="signOut()" class="tooltipped" data-position="right" data-tooltip="Sign out of Pool"><i class="material-icons small">hotel</i></a></li>
</ul>
<nav>

  <div class="nav-wrapper color-page3 black-text">
    <a href="home.html" class="brand-logo center"><span class="white-text text-lighten-2"><b>marco</b></span><span class="blue-text heavy">polo </span><span class="thin white-text hide-on-med-and-down">Pool</span></a>
    <a href="#" data-target="slide-out" class="sidenav-trigger"><i class="material-icons white-text">menu</i></a>
    <ul class="right hide-on-med-and-down black-text">
      <li>
        <a class="dropdown-trigger black-text" href="#!" data-target="dropdown1" id="welcomeMessage">
          <div></div><i class="material-icons right">arrow_drop_down</i></a>
      </li>
      <ul id='dropdown1' class='dropdown-content'>
        <li><a href="#!" onclick="signOut()">Sign Out</a></li>
      </ul>
    </ul>
  </div>
</nav>

<div class="row">
  <ul class="tabs color-page3">
    <li class="tab col s6 "><a href="#test1"><span class="white-text">SandBox</span></a></li>
    <li class="tab col s6"><a href="#test2" onclick="getPreviewEvent()"><span class="white-text">Submit</span></a></li>
  </ul>
</div>


<body class="">
  <div id="test1" class="col s12">
    <div class="container">
      <div class="row">
        <div class="col s12 m6">
          <div class="card white" id="rcorners1">
            <div class="card-content black-text">
              <span class="card-title center-align"><b>Event Info</b></span>
              <div class="row center-align">
                <div class="input-field col s12">
                  <input id="eventname" type="text">
                  <label for="eventname" class="theme"> Event Name </label>
                </div>
                <div class="col s12">
                  <div class="row">
                    <div class="input-field col s12">
                      <select id="category">
                      <option value="" disabled selected>Pick a Category</option>
                      <option value="Free">Free</option>
                      <option value="Free">Food</option>
                      <option value="Music">Music</option>
                      <option value="Parties">Parties</option>
                      <option value="Org">Org Event</option>
                    </select>
                      <label>Category</label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col s12 m6">
          <div class="card white">
            <div class="card-content black-text">
              <span class="card-title center-align"><b>Location</b></span>
              <div class="row">
                <div class="col s12">
                  <div class="input-field col s12">
                    <label for="datepicker">Select Date</label>
                    <input type="text" class="datepicker" id="date">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col s12 m6">
                  <div class="input-field col s12">
                    <label for="timepicker">Start Time</label>
                    <input type="text" class="timepicker" id="starttime">
                  </div>
                </div>
                <div class="col  s12 m6">
                  <div class="input-field col s12">
                    <label for="timepicker">End Time</label>
                    <input type="text" class="timepicker" id="endtime">
                  </div>
                </div>
                <input type="text" id="us2-address" class="center-align " />
                <div class="container">
                  <div id="us2" style="" class="center-align"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col s12 m6">
          <div class="card white" id="rcorners2">
            <div class="card-content black-text">
              <div class="row center-align">
                <span class="card-title center-align"><b>Description</b></span><br>
                <div class="row">
                  <div class="col s12 m12">
                    <textarea class="materialize-textarea editable">
                      
                    </textarea>
                    <pre class="markdown" id="story" hidden></pre>
                    <script>
                      (function() {
                        var markDownEl = document.querySelector(".markdown");
                        new MediumEditor(document.querySelector(".editable"), {
                          extensions: {
                            markdown: new MeMarkdown(function(md) {
                              markDownEl.textContent = md;
                            })
                          }
                        });
                      })();
                      var editor = new MediumEditor('.editable', {
                          buttonLabels: 'fontawesome'
                        }),
                        cssLink = document.getElementById('medium-editor-theme');
                    </script>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col s12 m6">
          <div class="card white" id="">
            <div class="card-content black-text">
              <div class="row center-align">
                <span class="card-title center-align"><b>Last Step</b></span><br>
                <div class="row">
                  <div class="input-field col s12">
                    <input id="imageLink" type="text">
                    <label for="imageLink" class="theme">Image Link</label>
                  </div>
                  <div class="input-field col s12">
                    <input id="info" type="text">
                    <label for="info" class="theme">Additional Link</label>
                  </div>
                </div>
                <span class="green-text">Click Submit to Review</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="test2" class="container center">
    <div class="row">
      <div class="col s12 m7 push-m2">
        <div class="card">
          <div class="card-image">
            <div id="imgValuePreview">
              <!--Image Goes here-->
            </div>
            <div id="eventNamePreview">
              <!--Event Name goes here-->
            </div>
            <a class="btn-large btn-floating halfway-fab waves-effect waves-light green" onclick="getFormEvent()"><i class="material-icons">send</i></a>
          </div>
          <div class="card-content">
            <div class="card-tabs">
              <ul class="tabs tabs-fixed-width">
                <li class="tab active"><a href="#test4">Location</a></li>
                <li class="tab"><a href="#test5">Info</a></li>
              </ul>
            </div>
            <div id="test4">
              <div class="row">
                <div class="col s12">
                  <h5 class="left-align"><b>Location</b></h5>
                </div>
              </div>
              <div class="row">
                <div class="left-align" id="locationPreview"></div>
              </div>
              <div class="row">
                <div class="col s12">
                  <h5 class="left-align"><b>Time & Date</b></h5>
                </div>
              </div>
              <div class="row">
                <div class="col s12 ">
                  <div class="input-field col s12">
                    <label for="datepicker"></label>
                    <input type="text" class="datepicker" id="datePreview">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col s12 m6">
                  <div class="input-field col s12">
                    <label for="timepicker"></label>
                    <input type="text" class="timepicker" id="starttimePreview">
                  </div>
                </div>
                <div class="col  s12 m6">
                  <div class="input-field col s12">
                    <label for="timepicker"></label>
                    <input type="text" class="timepicker" id="endtimePreview">
                  </div>
                </div>
              </div>
            </div>
            <div id="test5">
              <div class="row">
                <div class="col s12">
                  <h5 class="left-align"><b>Description</b></h5>
                </div>
              </div>
              <div class="row">
                <div id="descriptionValuePreview">
                  <!--Desscription Goes Here-->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>
  </div>

  </div>

  </div>
  </header>
  <script>
    firebase.auth().onAuthStateChanged(function(user) {
      if (user) {
        // User is signed in.
        var displayName = user.displayName;
        var uid = user.uid;
        console.log(displayName);
        console.log(uid);
        var welcome = document.getElementById("welcomeMessage");
        var welcomeMessage = '<span class="white-text">Welcome ' + displayName + '</span><i class="material-icons right white-text">arrow_drop_down</i></a>';
        welcome.innerHTML = welcomeMessage;
      }
    });

    function signOut() {
      firebase.auth().signOut().then(function() {
        console.log('Signed Out');
        window.location.href = "../index.html";

      }, function(error) {
        window.location.href = "../index.html";
      });
    }
  </script>
  <script type="text/javascript" src="../js/materialize.min.js"></script>
  <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCf69RlrrN0ChatQlN28uGPRFyUP1MrV88&libraries=places"></script>
  <script src="../js/autocomplete.js"></script>
  <script src="../js/locationpicker.js"></script>
</body>

</html>
